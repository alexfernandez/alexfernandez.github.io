<!DOCTYPE HTML>
<!--
	Read Only by HTML5 UP
	html5up.net | @n33co
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)

	Modified by Alex Fern√°ndez
	https://pinchito.es/ | @pinchito
-->
<html>
	<head>
		<title>üõ†Ô∏è Kubernetes can be the right tool for the job</title>
		<meta charset="utf-8" />
		<meta name="description" content="üõ†Ô∏è Kubernetes can be the right tool for the job ‚Äî And is it possible to tell when Kubernetes is right?" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<meta name="twitter:card" content="summary" />
		<meta name="twitter:site" content="@pinchito" />
		<meta name="twitter:title" content="üõ†Ô∏è Kubernetes can be the right tool for the job ‚Äî And is it possible to tell when Kubernetes is right?" />
		<meta name="twitter:description" content="There is a time and a place for everything. Kubernetes is a powerful tool that can simplify your life even with a rather pedestrian stack." />
		<meta name="twitter:image" content="https://pinchito.es/2022/pics/k8s-gears.jpg" />
		<link rel="stylesheet" href="/css/main.css" />
		<link rel="canonical" href="https://pinchito.es/2022/kubernetes-right-tool" />
		<link rel="shortcut icon" href="/favicon.png" type="image/png" />
		<!--[if lte IE 8]><link rel="stylesheet" href="/css/ie8.css" /><![endif]-->
		<script>
		// Disable tracking if the opt-out cookie exists.
		var disableStr = 'ga-disable-UA-75898530-1';
		if (document.cookie.indexOf(disableStr + '=true') > -1) {
			  window[disableStr] = true;
		}
		// Opt-out function
		function gaOptout() {
			document.cookie = disableStr + '=true; expires=Thu, 31 Dec 2099 23:59:59 UTC; path=/';
			window[disableStr] = true;
		}
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
			(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
				m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
		ga('create', 'UA-75898530-2', 'auto');
		ga('send', 'pageview');

		</script>
	</head>
	<body>

		<!-- Header -->
			<section id="header">
				<header>
					<p class="home"><a class="home" href="/">pinchito.es</a></p>
					<p>
					<a href="/about">about</a>
					<br/>
					<a href="/cv">CV</a>
					<br/>
					<a href="/speaker">speaker</a>
					</p>
					<p>
					<a id="follower" href="https://twitter.com/intent/follow?screen_name=pinchito" target="_blank"><i id="birdie"></i>@pinchito</a>
					<br/>
					<a href="https://github.com/alexfernandez" aria-label="Follow @alexfernandez on GitHub">alexfernandez @ GitHub</a>
					<br/>
					<a href="https://www.youtube.com/channel/UCp5fMWhuqcbrvSJEOByeGwg">YouTube</a>
					</p>
					<p>
					This site uses (gasp!) cookies for gathering statistics.
					You can
						<a href="javascript:gaOptout()">disable them</a>.
					</p>
				</header>
			</section>

		<!-- Wrapper -->
			<div id="wrapper">

				<!-- Main -->
					<div id="main">

						<section id="zero">
							<p class="home"><a class="home" href="/">pinchito.es</a></p>
						</section>

						<!-- One -->
							<section id="one">
								<div class="container">
									<header class="major">
										<h1>üõ†Ô∏è Kubernetes can be the right tool for the job</h1>
										<p>And is it possible to tell when Kubernetes is right?<p>
									</header>
																				<figure>
                    <img src="pics/k8s-gears.jpg" title="Gears at a shop at the Market, by Kaushik.chug, color-corrected version. Source: https://commons.wikimedia.org/wiki/File:Gears.JPG" alt="" /><figcaption>Which is the right tool for the job? It depends.</figcaption>
                    </figure>
                    <p>Every few months an article comes out bashing Kubernetes and similar ‚Äúinfrastructure as code‚Äù tools, usually saying that they are only cost-effective at massive scale ‚Äì think Google or similar. The latest was an interesting piece by Jeremy Brown: <a href="https://www.jeremybrown.tech/8-kubernetes-is-a-red-flag-signalling-premature-optimisation/">Kubernetes is a red flag signalling premature optimisation</a>. The title says it all, and if it were not enough the subtitle should do it:</p>
                    <blockquote>
                    <p>If your company uses Kubernetes, you are likely expending energy on something that doesn‚Äôt take you towards your mission.</p>
                    </blockquote>
                    <p>I used to think like this, but my most recent experience has changed my mind.</p>
                    <p>I would like to tell you about our experience at <a href="">Hivency</a>, where we have used Kubernetes extensively.</p>
                    <p><a href="">Hivency</a> is an influencer marketing company that was recently acquired by the <a href="">Skeepers group</a>.</p>
                    <p>for us for example. kubernetes migration have been done like 2 year after my arrival i think. so not at the beginning. and it was the logical continuation of what we used at AWS (Elasticbean Stalk, a ready to use solution for managing VM with load balancer). So not a premature optimization at all. Against he say in the chapter.</p>
                    <h2 id="users-appreciate-reliability">Users Appreciate Reliability</h2>
                    <p>Did users ask for this? Your organisation needs engineers to create an impact on the mission. They have made the decision to run a tools inside kubernetes for the data team. It‚Äôs a no go for me too, all major cloud have dedicated tools for managing data related stuff. He just show his lack of knowledge here. And honestly if he needed ‚Äúmonth‚Äù to make it work he is not competent neither. Did users ask for this? Before reading anything, this is the typical question that make stop reading in general. Because of course no customer will tell you to use k8s, the ask for performance, security, stability not technology. He his the IT guys, he his in charge to find the solution not the customer. He acknowledge himself with his ‚ÄúGucci‚Äù metaphor, that at some point switching to k8s will make a real difference, did he say when ? no because he don‚Äôt know and have strong opinion to not do so.</p>
                    <h2 id="do-a-lot-more-with-less">Do a Lot More with Less</h2>
                    <blockquote>
                    <p>Products will have to be built by smaller teams that can deliver business outcomes at an increasingly faster pace.</p>
                    </blockquote>
                    <p>But this is exactly the purpose of Kubernetes!</p>
                    <p>He say product have to be built with smaller teams that can deliver fast. I‚Äôts exactly on of the purpose of K8S, yeah if you have a 15GB container who takes 2min to startup K8S is not the good choice. But like all in IT, right tool, right moment, right place. He acknowledge that company should consider some of the higher-level building blocks available via cloud providers making my previous comment about data pipeline more laughable because he just demonstrate that instead of saying he made bad decision of choosing k8s for this purpose and not cloud providers tools, he reject the fault on the tools, ‚Äúsmashing nail with screwdriver is a premature optimization, dhoooooo‚Äù . His example with Whatsapp is moreover hilarious, they used erlang, so first, enginner in the past knowing erlang was only very good and experienced enginner and he probably don‚Äôt know what make erlang a so powerfull language for telecom, erlangVM, who, very naively in short, encapsulate every function in his own microVM, interraction between work with message send/receive, function can be update in place without any restart message will be smoothly reroute, erlangVM take care about mivroVM scalling. This is just the definition of kubernetes ‚Ä¶‚Ä¶ but at language lvl</p>
                    <h2 id="maintaining">Maintaining</h2>
                    <p>another topic is people needed to maintain, i‚Äôm the perfect example where a single guy can manage the cloud infra, k8s and slowly go out of backend dev and after 2-3 year alone starting to see some bottleneck and start to look for another person. Foot note: What is his recommendation ? no one Just a random guy who have not understand what he use and rant on the tools because of his ego 7:04</p>
                    <p>sorry big post :sweat_smile: This kind of people irritate me</p>
                    <h2 id="infra-as-code">Infra as Code</h2>
                    <h2 id="things-to-improve">Things to Improve</h2>
                    <p>New 7:06 for the - you mentionned, it will be the same for every tools i would have used. even when we were in aws with elasticbean stalck i was the only one to touch it. I didn‚Äôt know it before hivency, i just was the only one who had the faith to read the doc :sweat_smile:</p>
                    <p>the real problem about that, and it‚Äôs part of my fault. It‚Äôs we didn‚Äôt explain, advocate, etc in depth why k8s, why now, etc. This and the 2 times service split start fail who will had add more sense. But for a recent exemple. I just was able to split Sidekiq worker in several server with just copy/pasting 5 files and change env variable injected to configure them. And now we can have a better vision of resource consumption and a better scalling for each type of queue. 7:12 it took me 1 hours to do so</p>
                    <h2 id="building-bridges">üåâ Building Bridges</h2>
                    <p>My favourite engineering metaphor is based on the ancient art of building bridges, of which there are <a href="https://en.wikipedia.org/wiki/List_of_bridge_types">many types</a>.</p>
                    <h3 id="the-cowboy-and-the-stream">ü§† The Cowboy and the Stream</h3>
                    <p>Suppose you are a cowboy that wants to move some cattle across their property.</p>
                    <figure>
                    <img src="pics/k8s-bridges-small.png" title="1: simple drawing of a small river separating two bits of land. 2: the river is now bridged by a plank of wood, with a cow walking on it. Source: the author." alt="" /><figcaption>Bridging a small stream is easy.</figcaption>
                    </figure>
                    <p>There is a small stream of water in the middle (1). Rather than have the cows wade it, the cowboy sets a plank of wood across the water (2). Cows go safely, everyone is happy.</p>
                    <h3 id="the-over-engineered-bridge">üìè The Over-engineered Bridge</h3>
                    <p>The cowboy now finds a wider stream of water.</p>
                    <figure>
                    <img src="pics/k8s-bridges-medium.png" title="1: a wider river, perhaps 10m wide, crossed by a long plank of wood. 2: the plank breaks and a cow drowns. 3: a concrete arch bridge is now set over the water, with a cow safely crossing it. 4: a thicker plank over the water, with a cow trying to get on it. Source: the author." alt="" /><figcaption>Bridging a medium stream can be hard.</figcaption>
                    </figure>
                    <p>He thinks to himself: ‚ÄúThis is easy, I will just build a longer plank of wood‚Äù (1). But when his cows try to cross it, the plank breaks in the middle due to the weight and the cattle drown (2).</p>
                    <p>Desperate he asks his friend the engineer for a solution, who comes up with a very simple yet clever arch bridge design (3): just one piece of concrete that can be poured elsewhere and set in place. When the cowboy hears the price, though, he thinks to himself: ‚ÄúI can do this!‚Äù So with a lot of effort he builds a bigger, wider plank of wood (4). The cows take some effort to walk onto it, but it works!</p>
                    <p>Was the arch bridge (3) over-engineered? It depends; the huge plank will probably do the job for some time, but it will not last long and will definitely not resist a flooding. Perhaps after having to rebuild it three or four times, the cowboy will go with the engineer‚Äôs design after all.</p>
                    <h3 id="the-clumsy-bridge">üèóÔ∏è The Clumsy Bridge</h3>
                    <p>But this was not all! The big challenge is here: the cowboy realizes that if he could cross the river at its widest point, almost 40m across, he would save 1 km on his way home!</p>
                    <figure>
                    <img src="pics/k8s-bridges-large.png" title="1: a wider river, almost 40m wide, with a long thick plank of wood. 2: the plank again breaks and another cow drowns. 3: a really thick plank of wood bridges the water, and since it is taller than a cow it is tapered on the extremes. 4: a simple cable-stayed bridge now spans the water, with a few cables stabilizing the structure, and a cow crossing the water safely. Source: the author." alt="" /><figcaption>Bridging a large stream is really hard and needs specialized tools.</figcaption>
                    </figure>
                    <p>Having learned his lesson he builds a thick plank like before (1), but this time it is not enough: it breaks and again his cattle drown (2).</p>
                    <p>He does not want to bother his friend the engineer, plus he fears the price tag. So he builds a really huge plank of wood (3), using lots and lots of wood. This takes forever and he is not really happy with the result. Also it is now taller than a cow, so the cows cannot get on top of it; He needs a cumbersome tapered structure at the ends.</p>
                    <p>The engineer comes by and suggests a simple cable-stayed bridge (4), which would not be a huge investment compared to all the materials already used: poured concrete and steel cables.</p>
                    <h2 id="conclusion">Conclusion</h2>
                    <p>All tools, just like <a href="/2022/understanding-limits">physical laws</a>, have their range of application.</p>
                    <h2 id="acknowledgements">Acknowledgements</h2>
                    <p>Thanks to my colleague <a href="">Jonathan Zimpfer</a> for providing most of the ideas and even the text for this article. Any errors that remain are my own.</p>
                    <p>The <a href="https://commons.wikimedia.org/wiki/File:Cowicon.svg">cow icon</a> was created by Wikipedia user Abu badali.</p>
								</div>
							</section>
							<section id="last">
								<div class="container">
									<p>
									Published on 2022-07-04, modified on 2022-07-04. <a href="mailto:alexfernandeznpm@gmail.com">Comments, suggestions?</a>
									</p>
									<p>
									Back to the <a href="/">index</a>.
									</p>
								</div>
							</section>

				<!-- Footer -->
					<section id="footer">
						<div class="container">
							<ul class="copyright">
								<li>
									¬© <a href="mailto:alexfernandeznpm@gmail.com">Alex Fern√°ndez</a>.
									<a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a>.
								</li>
								<li>Original design: <a href="http://html5up.net">HTML5 UP</a></li>
							</ul>
						</div>
					</section>

			</div>
	</body>
</html>
